<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Firewall on </title>
    <link>https://docs.barricade.io/tags/firewall/</link>
    <description>Recent content in Firewall on </description>
    <generator>Hugo -- gohugo.io</generator>
    <atom:link href="https://docs.barricade.io/tags/firewall/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Amazon WAF Integration</title>
      <link>https://docs.barricade.io/using-barricade/aws-waf-integration/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.barricade.io/using-barricade/aws-waf-integration/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://aws.amazon.com/waf/&#34;&gt;AWS Web Application Firewall (WAF)&lt;/a&gt; helps protect your web applications from common web exploits that could affect application availability, compromise security, or consume excessive resources. You can integrate AWS WAF with Barricade to make an intelligent and learning firewall.&lt;/p&gt;

&lt;h3 id=&#34;gotchas:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Gotchas&lt;/h3&gt;

&lt;p&gt;To use WAF; you must be using Amazon Web Services &lt;strong&gt;&lt;a href=&#34;https://aws.amazon.com/ec2/&#34;&gt;EC2&lt;/a&gt;&lt;/strong&gt; and &lt;strong&gt;&lt;a href=&#34;https://aws.amazon.com/cloudfront/&#34;&gt;CloudFront&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;AWS WAF is not available on an individual-instance basis but is available if you are using Elastic Load Balancers (ELBs).&lt;/p&gt;

&lt;p&gt;Make sure that you read the AWS &lt;a href=&#34;https://aws.amazon.com/waf/pricing/&#34;&gt;WAF pricing&lt;/a&gt; thoroughly.&lt;/p&gt;

&lt;p&gt;Barricade does not charge you for using AWS WAF, but rules you add through the Barricade integration will incurr charges on your AWS account.&lt;/p&gt;

&lt;h3 id=&#34;setting-up-the-integration:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Setting up the Integration&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Login to Barricade and go to the Settings &amp;gt; Integrations &amp;gt; &lt;a href=&#34;https://app.barricade.io/dashboard/settings/&#34;&gt;Amazon AWS WAF Integration&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Click on the switch to &lt;strong&gt;Enable&lt;/strong&gt; the integration&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Follow the Security Group and Integration Instructions that appear onscreen for the &lt;a href=&#34;https://console.aws.amazon.com/console/home&#34;&gt;AWS Console&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Once you&amp;rsquo;ve created the required security groups as described below, &lt;strong&gt;copy&lt;/strong&gt; the access id and secret key which have been created with very limited access and enter them Click &lt;em&gt;Save Integration&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;After saving the integration, a new WAF will be created in your AWS account with the name &lt;code&gt;BARRICADE-WAF&lt;/code&gt;. This is where we will add behaviours to block attackers from within Barricade. Added behaviours will incurr costs on your AWS account - see their &lt;a href=&#34;https://aws.amazon.com/waf/pricing/&#34;&gt;pricing&lt;/a&gt;.
_&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Once you&amp;rsquo;ve enabled the WAF, you will need to go to your &lt;a href=&#34;https://aws.amazon.com/cloudfront/&#34;&gt;CloudFront&lt;/a&gt; distribution settings, and set the AWS WAF Web ACL to &lt;code&gt;BARRICADE-WAF&lt;/code&gt; like such:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-02.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-02.png&#34; /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;giving-barricade-access-security-groups:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Giving Barricade Access (Security Groups)&lt;/h3&gt;

&lt;p&gt;We don&amp;rsquo;t want access to your servers. In fact, we want &lt;strong&gt;as little&lt;/strong&gt; access as possible to your account. We&amp;rsquo;ve broken down the steps you&amp;rsquo;ll need to follow in Amazon IAM to give us minimum access so we can manage your firewall, but nothing else.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;From the Amazon IAM section of your Amazon account, you will need to create a new user for Barricade. Follow this &lt;a href=&#34;https://console.aws.amazon.com/iam/home#users&#34;&gt;create a new user link&lt;/a&gt; - it&amp;rsquo;ll bring you right there.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Create a new user named &lt;strong&gt;barricade-waf &lt;/strong&gt;and make sure to check the &lt;em&gt;&amp;ldquo;Generate an access key for each user&amp;rdquo;&lt;/em&gt;. &lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-03.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-03.png&#34; /&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;On the next step, after the user is created, copy the &lt;strong&gt;access id&lt;/strong&gt; and &lt;strong&gt;secret key&lt;/strong&gt; that&amp;rsquo;s presented to you under &lt;em&gt;Show User Security Credentials:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-04.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-04.png&#34; /&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;You will now need to create a &lt;strong&gt;Policy&lt;/strong&gt;. We&amp;rsquo;ll give you the policy, don&amp;rsquo;t worry.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Go to the &lt;a href=&#34;https://console.aws.amazon.com/iam/home#policies&#34;&gt;AWS policy page&lt;/a&gt;, and click on &lt;strong&gt;Create Policy&lt;/strong&gt;, then &lt;strong&gt;Create Your Own Policy&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-05.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-05.png&#34; /&gt;
 &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The next steps are tricky but we&amp;rsquo;ll give them to you here. You will need to name your policy, give it a description and set the policy. &lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;Name&lt;/strong&gt; is pretty straightforward, we like descriptive names so we recommend: &lt;strong&gt;barricade-waf-integration&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;Description&lt;/strong&gt; is up to you. We use a textual description so that in 6 months when new employees learn the platform they understand what this does.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;Policy Document&lt;/strong&gt; now is slightly tricker. Just copy the following into the textarea and click on the &amp;ldquo;&lt;strong&gt;Create Policy&lt;/strong&gt;&amp;rdquo; button at the bottom right:&lt;/p&gt;

&lt;div class=&#34;code-box&#34; style=&#34;margin: 0px; width: 100%; height: 160px; overflow: scroll;&#34;&gt;


&lt;pre&gt;{
   &#34;Version&#34;:&#34;2012-10-17&#34;,
   &#34;Statement&#34;: [
      {
         &#34;Action&#34;: [
            &#34;waf:*&#34;,
            &#34;cloudfront:GetDistribution&#34;,
            &#34;cloudfront:GetDistributionConfig&#34;,
            &#34;cloudfront:UpdateDistribution&#34;,
            &#34;cloudfront:ListDistributions&#34;
         ],
         &#34;Effect&#34;: &#34;Allow&#34;,
         &#34;Resource&#34;: &#34;*&#34;
      }
   ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Almost there! The last step is to assign this policy to your newly created user - &lt;strong&gt;barricade-waf&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;On the &lt;a href=&#34;https://console.aws.amazon.com/iam/home#users/barricade-waf&#34;&gt;new user&amp;rsquo;s IAM page&lt;/a&gt; you will see an &lt;strong&gt;Attach Policy&lt;/strong&gt; button, click it and select the &lt;strong&gt;barricade-waf-integration&lt;/strong&gt; policy you created in Step 6. &lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That&amp;rsquo;s it. Now we can add firewall rules, but we don&amp;rsquo;t have to have access to your servers!&lt;/p&gt;

&lt;h3 id=&#34;linking-cloudfront-to-aws-waf:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Linking CloudFront to AWS WAF&lt;/h3&gt;

&lt;p&gt;The only way to currently use the Amazon AWS WAF is by connecting a created WAF to a CloudFront distribution. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;You will only have to do this once (with Barricade)&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;First, go to your &lt;a href=&#34;https://console.aws.amazon.com/cloudfront/home&#34;&gt;CloudFront page&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Select the distribution you are interested in linking the AWS WAF to.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Once you are on your CloudFront Distribution&amp;rsquo;s page, click on the &lt;strong&gt;Edit&lt;/strong&gt; button. Then look for the &lt;strong&gt;AWS WAF Web ACL&lt;/strong&gt; option - yes, it&amp;rsquo;s quite the mouthful!&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-06.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-06.png&#34; /&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Select the &lt;strong&gt;BARRICADE-WAF &lt;/strong&gt;in the dropdown:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-07.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-07.png&#34; /&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Click on &lt;strong&gt;Yes, Edit&lt;/strong&gt; confirmation button and wait until the &lt;em&gt;Distribution Status&lt;/em&gt; says &lt;strong&gt;Deployed&lt;/strong&gt;. &lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That&amp;rsquo;s it, you now have a fully integrated detection system that learns from behaviour and can tell your firewall about new threats to block.&lt;/p&gt;

&lt;h3 id=&#34;adding-rules:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Adding Rules&lt;/h3&gt;

&lt;p&gt;Once the Integration is enabled, you can block a query with one click:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/15-awswaf-08.png&#34; alt=&#34;../src/img/using-barricade/15-awswaf-08.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Go to the &lt;a href=&#34;https://app.barricade.io/dashboard/overview&#34;&gt;overview page&lt;/a&gt; in the Barricade app, and open a security case - you should see &amp;lsquo;AWS Firewall&amp;rsquo; as an option in cases where blocking an attacker IP address is part of the recommendation.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: this option will only appear when the Agent has been identified as running on AWS EC2. For non AWS servers, only the default iptables option will be visible.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;removing-rules:b34a4a33b05843c6b2f999d8866d725e&#34;&gt;Removing Rules&lt;/h3&gt;

&lt;p&gt;At the current time, you will need delete the rules and firewall from your AWS account directly, via their &lt;a href=&#34;https://console.aws.amazon.com/console/home&#34;&gt;console&lt;/a&gt;. We are planning on adding much more evolved AWS WAF integration and management after having measured the interest.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Check out our blog post &lt;a href=&#34;https://blog.barricade.io/introducing-our-new-amazon-web-application-firewall-integration/&#34;&gt;Introducing Our New Amazon Web Application Firewall Integration&lt;/a&gt; for more background on this feature.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CloudFlare Integration</title>
      <link>https://docs.barricade.io/using-barricade/cloudflare-integration/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://docs.barricade.io/using-barricade/cloudflare-integration/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;../src/img/changelog/31-cloudflare.png&#34; alt=&#34;../src/img/changelog/31-cloudflare.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://cloudflare.com/&#34;&gt;CloudFlare&lt;/a&gt; makes DNS secure, fast and simple, as well as providing some really great DDoS protection and security features. You can integrate CloudFlare with Barricade to make an intelligent, learning firewall that can protect your infrastructure from things like DDoS and brute force attacks.&lt;/p&gt;

&lt;h3 id=&#34;gotchas:f647eb5d518fb3851d585ccce9a324b4&#34;&gt;Gotchas&lt;/h3&gt;

&lt;p&gt;You&amp;rsquo;ll need to be using both Barricade and &lt;a href=&#34;https://cloudflare.com/&#34;&gt;CloudFlare&lt;/a&gt; in order to integrate them - if you don&amp;rsquo;t already have a Barricade account, you can &lt;a href=&#34;https://app.barricade.io/&#34;&gt;sign up for free here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;setting-up-the-integration:f647eb5d518fb3851d585ccce9a324b4&#34;&gt;Setting up the Integration&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Login to Barricade and go to the Settings &amp;gt; Integrations &amp;gt; &lt;a href=&#34;https://app.barricade.io/dashboard/settings/integration/cloudflare&#34;&gt;CloudFlare Firewall&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Click on the switch to &lt;strong&gt;Enable&lt;/strong&gt; the integration.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Login to CloudFlare.com and open the &lt;a href=&#34;https://www.cloudflare.com/a/account/my-account&#34;&gt;My Account&lt;/a&gt; page. You&amp;rsquo;ll need to retrieve your Global API key:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/16-cloudflare-api.gif&#34; alt=&#34;../src/img/using-barricade/16-cloudflare-api.gif&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Just so you know, &lt;strong&gt;we encrypt your key&lt;/strong&gt;, it is not stored in plaintext for security reasons.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Copy and paste your API key and your email address into the form on the CloudFlare Integration page in the Barricade app. Click the &amp;lsquo;Enable&amp;rsquo; button.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That&amp;rsquo;s it - now you can quickly utilize the CloudFlare firewall from within Barricade.&lt;/p&gt;

&lt;h3 id=&#34;using-the-integration:f647eb5d518fb3851d585ccce9a324b4&#34;&gt;Using the Integration&lt;/h3&gt;

&lt;p&gt;You&amp;rsquo;ll see a new &amp;lsquo;Add To Firewall&amp;rsquo; button alongside attack details, allowing you simple one-click blocking of attackers:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../src/img/using-barricade/16-cloudflare-button.gif&#34; alt=&#34;../src/img/using-barricade/16-cloudflare-button.gif&#34; /&gt;&lt;/p&gt;

&lt;p&gt;--&lt;/p&gt;

&lt;p&gt;Read our &lt;a href=&#34;https://blog.barricade.io/cloudflare-meet-barricade/&#34;&gt;blog announcement&lt;/a&gt; for more background on this super useful integration!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>